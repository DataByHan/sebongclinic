@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --paper: #f6f5f1;
    --paper-2: #f2f1ec;
    --ink: #0f172a;
    --ink-line: rgba(15, 23, 42, 0.2);
    --muted: #475569;
    --line: rgba(15, 23, 42, 0.14);
    --jade: #1f6f5b;
    --jade-2: #155246;
    --tangerine: #e0563a;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    background: var(--paper);
    color: var(--ink);
    text-rendering: geometricPrecision;
  }

  ::selection {
    background: rgba(31, 111, 91, 0.2);
  }
}

@layer components {
  .type-sans {
    font-family: var(--font-sans), ui-sans-serif, system-ui, -apple-system, 'Segoe UI', sans-serif;
  }

  .type-serif {
    font-family: var(--font-serif), ui-serif, Georgia, serif;
  }

  .frame {
    @apply mx-auto w-full max-w-6xl px-4 sm:px-6 lg:px-10;
  }

  .flat-card {
    @apply rounded-2xl border border-[color:var(--line)] bg-white;
  }

  .flat-chip {
    @apply inline-flex items-center gap-2 rounded-full border border-[color:var(--line)] bg-white/70 px-4 py-2 text-sm;
  }

  .flat-link {
    @apply underline underline-offset-4 decoration-[color:var(--line)] hover:decoration-[color:var(--ink)];
  }

  .cta {
    @apply inline-flex items-center justify-center rounded-full border border-[color:var(--ink-line)] bg-[color:var(--ink)] px-5 py-3 text-sm font-semibold text-white transition-colors hover:bg-[color:var(--jade)];
  }

  .cta-ghost {
    @apply inline-flex items-center justify-center rounded-full border border-[color:var(--line)] bg-white px-5 py-3 text-sm font-semibold text-[color:var(--ink)] transition-colors hover:bg-[color:var(--paper-2)];
  }

  /* Notice image sizing - public pages (.prose) and admin editor preview */
  .prose img,
  .toastui-editor-contents img {
    max-width: 100%;
    height: auto;
    display: block;
    margin-left: auto;
    margin-right: auto;
  }

  .prose img[data-notice-size="sm"],
  .toastui-editor-contents img[data-notice-size="sm"] {
    width: 320px;
  }

  .prose img[data-notice-size="md"],
  .toastui-editor-contents img[data-notice-size="md"] {
    width: 480px;
  }

  .prose img[data-notice-size="lg"],
  .toastui-editor-contents img[data-notice-size="lg"] {
    width: 640px;
  }

   .prose img[data-notice-size="full"],
   .toastui-editor-contents img[data-notice-size="full"] {
     width: 100%;
   }

   .notice-content {
     @apply space-y-4;
   }

   .notice-content h1 {
     @apply text-2xl font-bold text-[color:var(--ink)] mt-6 mb-3;
   }

   .notice-content h2 {
     @apply text-xl font-bold text-[color:var(--ink)] mt-5 mb-2;
   }

   .notice-content h3 {
     @apply text-lg font-bold text-[color:var(--ink)] mt-4 mb-2;
   }

   .notice-content h4,
   .notice-content h5,
   .notice-content h6 {
     @apply font-bold text-[color:var(--ink)] mt-3 mb-2;
   }

   .notice-content p {
     @apply text-[color:var(--ink)] leading-relaxed;
   }

   .notice-content ul,
   .notice-content ol {
     @apply ml-6 space-y-1;
   }

   .notice-content li {
     @apply text-[color:var(--ink)];
   }

   .notice-content ul li {
     @apply list-disc;
   }

   .notice-content ol li {
     @apply list-decimal;
   }

   .notice-content strong,
   .notice-content b {
     @apply font-bold text-[color:var(--ink)];
   }

   .notice-content em,
   .notice-content i {
     @apply italic;
   }

   .notice-content code {
     @apply bg-[color:var(--paper-2)] px-2 py-1 rounded font-mono text-sm;
   }

   .notice-content pre {
     @apply bg-[color:var(--paper-2)] p-4 rounded overflow-x-auto;
   }

   .notice-content pre code {
     @apply bg-transparent px-0 py-0;
   }

   .notice-content blockquote {
     @apply border-l-4 border-[color:var(--jade)] pl-4 italic text-[color:var(--muted)];
   }

   .notice-content a {
     @apply text-[color:var(--jade)] underline hover:text-[color:var(--jade-2)];
   }

   .notice-content table {
     @apply w-full border-collapse border border-[color:var(--line)];
   }

   .notice-content th,
   .notice-content td {
     @apply border border-[color:var(--line)] px-3 py-2 text-left;
   }

   .notice-content th {
     @apply bg-[color:var(--paper-2)] font-bold;
   }

   .notice-content hr {
     @apply my-6 border-t border-[color:var(--line)];
   }
}

@layer utilities {
  .mesh {
    background-image:
      radial-gradient(900px 600px at 10% 10%, rgba(31, 111, 91, 0.16), transparent 55%),
      radial-gradient(800px 520px at 85% 20%, rgba(224, 86, 58, 0.12), transparent 60%),
      radial-gradient(720px 520px at 50% 90%, rgba(15, 23, 42, 0.08), transparent 60%);
  }

  .grain {
    position: relative;
  }
  .grain::before {
    content: '';
    pointer-events: none;
    position: absolute;
    inset: 0;
    background-image:
      repeating-linear-gradient(
        0deg,
        rgba(15, 23, 42, 0.03),
        rgba(15, 23, 42, 0.03) 1px,
        transparent 1px,
        transparent 3px
      );
    opacity: 0.55;
    mix-blend-mode: multiply;
  }
}
